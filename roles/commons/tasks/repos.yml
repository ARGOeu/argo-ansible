---

- name: Install argo repository definitions
  tags: argo_repo
  template: src=argo.repo.j2
            dest=/etc/yum.repos.d/argo.repo backup=no
            owner=root group=root mode=0644

- name: Install mongodb 3.2 repo
  tags: mongodb_repo
  copy: src=etc/yum.repos.d/mongodb-org-3.2.repo
        dest=/etc/yum.repos.d/mongodb-org-3.2.repo backup=no
        owner=root group=root mode=0644
  when: mongo_repo 


- name: Install EGI-trustanchors repository definitions
  tags: ca_bundle_repo
  copy: src=etc/yum.repos.d/EGI-trustanchors.repo
        dest=/etc/yum.repos.d/EGI-trustanchors.repo backup=no
        owner=root group=root mode=0644
  when: ca_bundle

- name: Install UMD repo
  tags: umd_repo
  yum: name=http://repository.egi.eu/sw/production/umd/3/sl6/x86_64/updates/umd-release-3.0.1-1.el6.noarch.rpm
       state=present
  when: umd_repo

- name: Install promoo repo
  tags: monitoring_engine_repo
  copy: src=etc/yum.repos.d/promoo.repo
        dest=/etc/yum.repos.d/promoo.repo backup=no
        owner=root group=root mode=0644
  when: promoo_repo

- name: Install rocci repo
  tags: monitoring_engine_repo
  copy: src=etc/yum.repos.d/rocci.repo
        dest=/etc/yum.repos.d/rocci.repo backup=no
        owner=root group=root mode=0644
  when: rocci_repo

- name: Install qcg repo
  tags: monitoring_engine_repo
  copy: src=etc/yum.repos.d/qcg.repo
        dest=/etc/yum.repos.d/qcg.repo backup=no
        owner=root group=root mode=0644
  when: qcg_repo

- name: Install unicore repo
  tags: monitoring_engine_repo
  copy: src=etc/yum.repos.d/unicore-7.repo
        dest=/etc/yum.repos.d/unicore-7.repo backup=no
        owner=root group=root mode=0644
  when: unicore_repo
